;String Operations:Reverse and Palindrome

.MODEL SMALL 
.STACK
.DATA

M1 DB 10,13,"STRING ACCEPT: $"
M2 DB 10,13,"STRING LENGTH: $"
M3 DB 10,13,"STRING DISPLAY: $"
M4 DB 10,13,"STRING REVERSE: $"
M5 DB 10,13,"STRING PALINDROME $"
M6 DB 10,13,"STRING NOT PALINDROME $"

STR DB 50,?,50 DUP(?)
STR1 DB 50,?,50 DUP(?) 
LEN DB ?

.CODE
DISP MACRO XX

MOV AH,09
LEA DX,XX
INT 21H
ENDM

.STARTUP 

DISP M1

MOV AH,0AH ;ENTER STRING
LEA DX,STR
INT 21H

DISP M2

LEA SI,STR+1 ;LENGTH
MOV CL,[SI]
MOV LEN,CL 

MOV DL,CL ;
ADD DL,30H
MOV AH,02
INT 21H

DISP M3

MOV CL,LEN
LEA SI,STR+2

BACK:
MOV DL,[SI]
MOV AH,02
INT 21H
INC SI
DEC CL
JNZ BACK


MOV CL,LEN
MOV CH,CL

LEA SI,STR+2
LEA DI,STR1+2

BACK1:
INC SI 
DEC CL
JNZ BACK1

DEC SI;BCOZ AFTER ABOVE OPEARATION SI WILL POINT TO NEXT LOCATION AFTER LAST CHARACTER WILL

DISP M4

BACK2:
MOV DL,[SI]
MOV [DI],DL
MOV AH,02 ;DISPLAY
INT 21H 
DEC SI
INC DI
DEC CH
JNZ BACK2

;PALINDROME
MOV CL,LEN
LEA SI,STR+2
LEA DI,STR1+2

BACK3:
MOV DL,[SI]
CMP DL,[DI]
JNZ AA
INC SI
INC DI
DEC CL
JNZ BACK3

DISP M5 ;PALINDROME
JMP LAST

AA:
DISP M6 ;NOT PALINDROME

LAST:
.EXIT 
END
